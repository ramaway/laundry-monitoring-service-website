<!DOCTYPE html>
<HTML>
	<HEAD>
		<meta charset="utf-8">
		<TITLE>Laundry Monitoring Service</TITLE>
		<link rel="icon" href="icon/favicon.ico">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
		<link rel="stylesheet" type="text/css" href="index.css">
		<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	</HEAD>

	<BODY>
		<div class="Header">
			<div class="tabs">
				<a href="/"><img src="/icon/logo.jpg"></a>
			</div>
			<div class="tabs">
				<span id="signinButton">
					<span
					class="g-signin"
					data-callback="signinCallback"
					data-clientid="1026151522294-ceq87ekntjfolumqp7cr126p9tpvjd7t.apps.googleusercontent.com"
					data-cookiepolicy="single_host_origin"
					data-requestvisibleactions="http://schemas.google.com/AddActivity"
					data-scope="https://www.googleapis.com/auth/plus.login"></span>
				</span>
			</div>
			<div class="tabs">
				<div id="revoke" style="display:none">
					<input type="button" id="revokeButton" class="btn btn-primary" value="LogOut">
				</div>
			</div>
		</div>
		<br><br><br><br>
		<center>
			<div class="showbox">
				<p>
					<img src="default.jpg" id="slideshow" alt="slide show">
				</p>
				<p>
					<input type="button" value="<<<" id="backW" class="btn">
					<input type="button" value="<<" id="backD" class="btn">
					<input type="button" value="<" id="backH" class="btn">
					<span id="now_time"></span>
					<input type="button" value=">" id="nextH" class="btn">
					<input type="button" value=">>" id="nextD" class="btn">
					<input type="button" value=">>>" id="nextW" class="btn">
				</p>
				<p>
					<input type="button" value="START/STOP" id="startstop">
				</p>
			</div>
		</center>
		<script type="text/javascript" src="index.js"></script>
		<script type="text/javascript">
		(function() {
			var po = document.createElement('script');
			po.type = 'text/javascript'; po.async = true;
			po.src = 'https://apis.google.com/js/client:plusone.js';
			var s = document.getElementsByTagName('script')[0];
			s.parentNode.insertBefore(po, s);
		})();

		function signinCallback(authResult) {
			if (authResult['access_token']) {
				document.getElementById('signinButton').setAttribute('style', 'display: none');
				document.getElementById('revoke').setAttribute('style', 'display: block');
				console.log('authResult[access_token]: ' + authResult['access_token']);
			} else if (authResult['error']) {
				console.log('auth error');
			}
			function disconnectUser() {
				var revokeUrl = 'https://accounts.google.com/o/oauth2/revoke?token=' + authResult['access_token'];
				$.ajax({
					type: 'GET',
					url: revokeUrl,
					async: false,
					contentType: "application/json",
					dataType: 'jsonp'
				})
				.done(function(nullResponse) {
					document.getElementById('signinButton').setAttribute('style', 'display: block');
					document.getElementById('revoke').setAttribute('style', 'display: none');
				})
				.fail(function(e) {
				});
			}
			$('#revokeButton').click(disconnectUser);
		}
		</script>
	</BODY>
</HTML>
